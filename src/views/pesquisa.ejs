<%- include('partials/_head') %>
<link rel="stylesheet" href="/css/categorias.css">
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/footer.css">

<%- include('partials/_navbar') %>

<main style="position:relative;">
  <div class="voltar-container">
    <button class="voltar" onclick="window.history.back()" aria-label="Voltar">
      <img src="/assets/setinha-cinza.svg" alt="Voltar" width="25" height="25">
    </button>
  </div>

  <h2 id="titulo-categoria">
    <% if (termo && termo.trim()) { %>
      Resultados para "<%= termo %>"
    <% } else { %>
      Resultados da pesquisa
    <% } %>
  </h2>

  <div class="resultados-container" id="resultado-categoria">
    <% if (!recipes || recipes.length === 0) { %>
      <p>Nenhuma receita encontrada.</p>
    <% } else { %>
      <% recipes.forEach(function(recipe) { %>
        <div class="card-receita" data-recipe-id="<%= recipe.id %>">
          <img
            src="<%= recipe.cover_image || '/assets/imagem-padrao.png' %>"
            alt="<%= recipe.title %>"
          >
          <div class="card-receita-conteudo">
            <h3 title="<%= recipe.title %>"><%= recipe.title %></h3>
            <div class="tempo">
              <img src="/public/assets/icon-tempo.svg" alt="Tempo">
              <span><%= recipe.prep_time_min ? recipe.prep_time_min + ' min' : '' %></span>
            </div>
          </div>
        </div>
      <% }) %>
    <% } %>
  </div>
</main>

<%- include('partials/_footer') %>

<script src="/js/categorias.js" defer></script>
<script src="/js/resultados-pesquisa.js" defer></script>
<script src="/js/navbar.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
